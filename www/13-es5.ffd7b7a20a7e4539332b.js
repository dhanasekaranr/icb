!function(){function n(n,l){for(var t=0;t<l.length;t++){var e=l[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function l(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{L6id:function(t,e,o){"use strict";o.r(e),o.d(e,"HomePageModuleNgFactory",(function(){return _}));var i=o("8Y7J"),u=function n(){l(this,n)},r=o("pMnS"),a=o("MKJQ"),c=o("sZkV"),s=o("SVse"),b=o("mrSG"),h=o("MO+k"),g=o("PK6w"),d=o("gnjc"),p=o("WU+Y"),f=function(){function t(n,e,o,i,u,r){l(this,t),this.navCtrl=n,this.authentication=e,this.service=o,this.popoverCtrl=i,this.ms=u,this.loading=r,this.completedMonth=[],this.rentalMonth=[],this.Months=[],this.AvailableCount=0,this.WishesCount=0,this.NotificationCount=0,this.TransactionsCount=0,this.holdsCount=0}var e,o,i;return e=t,(o=[{key:"ionViewWillEnter",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==this.authentication.getAccessToken()){n.next=8;break}return this.RentedOut=0,n.next=4,this.loading.create({message:"loading dashboard..."});case 4:this.loader=n.sent,this.loader.present().then((function(){l.drawLineChart(),l.getRentalStatus(),l.getBookCounts(),l.getActiveWishList(),l.getNotificationList(),l.getRentalTransactions(),l.getReceiving()})),n.next=9;break;case 8:this.navCtrl.navigateForward("tabs/login");case 9:case"end":return n.stop()}}),n,this)})))}},{key:"settingsPopover",value:function(n){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var t;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.popoverCtrl.create({component:p.a,event:n,translucent:!0});case 2:return t=l.sent,l.next=5,t.present();case 5:return l.abrupt("return",l.sent);case 6:case"end":return l.stop()}}),l,this)})))}},{key:"presentPopover",value:function(n){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var t;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.popoverCtrl.create({component:d.a,componentProps:{data:this.wishes},event:n,translucent:!0});case 2:return t=l.sent,l.next=5,t.present();case 5:return l.abrupt("return",l.sent);case 6:case"end":return l.stop()}}),l,this)})))}},{key:"notificationPopover",value:function(n){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var t;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.popoverCtrl.create({component:g.a,componentProps:{data:this.notification},event:n,translucent:!0});case 2:(t=l.sent).present(),t.onDidDismiss();case 4:case"end":return l.stop()}}),l,this)})))}},{key:"bookInfo",value:function(n){this.ms.setDestn(n),this.navCtrl.navigateForward("/tabs/bookInfo")}},{key:"showRentals",value:function(n){this.ms.setDestn(n),this.navCtrl.navigateForward("/tabs/rentalsPage")}},{key:"showReceiving",value:function(n){this.ms.setDestn(n),this.navCtrl.navigateForward("/tabs/receivingPage")}},{key:"showStats",value:function(){this.navCtrl.navigateForward("/tabs/statsPage")}},{key:"showHistory",value:function(n){this.ms.setDestn(n),this.navCtrl.navigateForward("/tabs/historyPage")}},{key:"getNotificationList",value:function(){var n=this;this.service.getNotificationList().then((function(l){n.notification=l,n.NotificationCount=n.notification.length}))}},{key:"getRentalTransactions",value:function(){var n=this;this.service.getRentalTransactions().then((function(l){n.Transactions=l,n.TransactionsCount=n.Transactions.length,n.loader.dismiss()}))}},{key:"getReceiving",value:function(){var n=this;this.service.getReceiving().then((function(l){n.holds=l,n.holdsCount=n.holds.length,n.loader.dismiss()}))}},{key:"getActiveWishList",value:function(){var n=this;this.service.getActiveWishList().then((function(l){n.wishes=l,n.WishesCount=n.wishes.length}))}},{key:"getBookCounts",value:function(){var n=this;this.service.searchTrans("book","").then((function(l){n.books=l,n.RentedOut=n.books.reduce((function(n,l){return n+parseInt(l.RentedCopies,10)}),0),n.AvailableCount=n.books.reduce((function(n,l){return n+parseInt(l.TotalCopies,10)}),0)})).catch((function(n){console.log(n)}))}},{key:"getRentalStatus",value:function(){var n=this;this.service.getRentalStatus("monthly","0").then((function(l){n.booksStat=l,n.completedMonth.length=0,n.rentalMonth.length=0,n.Months.length=0,n.booksStat.forEach((function(l){17===l.Stat?n.completedMonth.push(l.Borrower):(n.rentalMonth.push(l.Borrower),n.Months.push(l.RentalMonth))})),n.lineChart.update()})).catch((function(n){console.log(n)}))}},{key:"drawLineChart",value:function(){this.lineChart=new h.Chart(this.lineCanvas.nativeElement,{type:"line",data:{labels:this.Months,datasets:[{label:"Completed",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:1,pointRadius:1,pointHitRadius:1,data:this.completedMonth,spanGaps:!0},{label:"In Rental",fill:!1,lineTension:.1,backgroundColor:"rgba(192,77,192,0.4)",borderColor:"rgba(192,77,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(192,77,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(192,77,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:1,pointRadius:1,pointHitRadius:1,data:this.rentalMonth,spanGaps:!0}]}})}},{key:"logOut",value:function(){this.authentication.logout(),this.navCtrl.navigateForward("/tabs/login")}}])&&n(e.prototype,o),i&&n(e,i),t}(),v=o("occH"),m=o("ngBU"),x=o("dqLM"),y=i.wb({encapsulation:0,styles:[['.welcome-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}#notification-button[_ngcontent-%COMP%]{position:relative;top:0;right:-5px;left:-3px;font-size:1.2em}#notifications-badge-large[_ngcontent-%COMP%]{right:0}#notifications-badge[_ngcontent-%COMP%], #notifications-badge-large[_ngcontent-%COMP%]{position:absolute;top:0;border-radius:100%;color:#fff;background-color:red}#notifications-badge[_ngcontent-%COMP%]{right:-5px}ion-card[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:3em}page-home[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}page-home[_ngcontent-%COMP%]   .ionic-logo[_ngcontent-%COMP%]{display:inline-flex;position:relative;width:87px;height:87px;border:3.5px solid #5e86c4;border-radius:100%;-moz-border-radius:100%;-webkit-border-radius:100%;-moz-animation:spin 2s infinite linear;-webkit-animation:spin 2s linear infinite}page-home[_ngcontent-%COMP%]   .ionic-logo[_ngcontent-%COMP%]:after{width:38px;height:38px;top:50%;margin-left:-19px;margin-top:-19px}page-home[_ngcontent-%COMP%]   .ionic-logo[_ngcontent-%COMP%]:after, page-home[_ngcontent-%COMP%]   .ionic-logo[_ngcontent-%COMP%]:before{content:"";position:absolute;background:#5e86c4;left:50%;border-radius:100%;-moz-border-radius:100%;-webkit-border-radius:100%}page-home[_ngcontent-%COMP%]   .ionic-logo[_ngcontent-%COMP%]:before{width:14px;height:14px;top:-8px;margin-left:-7px}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}.icon-circle[_ngcontent-%COMP%], .icon-circle-large[_ngcontent-%COMP%], .icon-circle-small[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:-1px;width:45px;height:45px;font-size:40px;border-radius:50%;border:1px solid #ebebeb;background:#00a1e1;color:#fff;text-align:center}@media only screen and (min-device-width:320px){.icon-circle-large[_ngcontent-%COMP%]{width:80px;height:80px;font-size:48px;padding:16px}#notifications-badge-large[_ngcontent-%COMP%]{text-align:center}}@media only screen and (min-device-width:375px){.icon-circle-large[_ngcontent-%COMP%]{width:100px;height:100px;font-size:64px;padding:16px}#notifications-badge-large[_ngcontent-%COMP%]{text-align:center;width:4ex}}@media only screen and (min-device-width:414px){.icon-circle-large[_ngcontent-%COMP%]{width:120px;height:120px;font-size:72px;padding:16px}#notifications-badge-large[_ngcontent-%COMP%]{text-align:center;width:4ex;right:0}}@media only screen and (min-device-width:768px){.icon-circle-large[_ngcontent-%COMP%]{width:160px;height:160px;font-size:120px;padding:16px}#notifications-badge-large[_ngcontent-%COMP%]{text-align:center;width:6ex;height:4ex;right:0;padding-top:5px}}.icon-circle-small[_ngcontent-%COMP%]{width:24px;height:24px;font-size:20px}.icon-circle-outline[_ngcontent-%COMP%]{border:1px solid #00a1e1;background:transparent;color:#00a1e1}.item-icon-circle[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px;text-align:center;color:#fff}.item-icon-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:60px}.bg-circle-alt[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}']],data:{}});function C(n){return i.Xb(0,[(n()(),i.yb(0,0,null,null,2,"ion-badge",[["id","notifications-badge-large"]],null,null,null,a.K,a.c)),i.xb(1,49152,null,0,c.i,[i.h,i.l,i.B],null,null),(n()(),i.Ub(2,0,["",""]))],null,(function(n,l){n(l,2,0,l.component.holdsCount)}))}function k(n){return i.Xb(0,[(n()(),i.yb(0,0,null,null,1,"p",[["style","text-align: center;"]],null,null,null,null,null)),(n()(),i.Ub(-1,null,["Receiving"]))],null,null)}function w(n){return i.Xb(0,[(n()(),i.yb(0,0,null,null,1,"p",[["style","text-align: center;"]],null,null,null,null,null)),(n()(),i.Ub(-1,null,["Hold"]))],null,null)}function M(n){return i.Xb(0,[(n()(),i.yb(0,0,null,null,13,"ion-item",[],null,null,null,a.Z,a.p)),i.xb(1,49152,null,0,c.G,[i.h,i.l,i.B],null,null),(n()(),i.yb(2,0,null,0,2,"ion-avatar",[["slot","start"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.bookInfo(n.context.$implicit)&&e),e}),a.J,a.b)),i.xb(3,49152,null,0,c.f,[i.h,i.l,i.B],null,null),(n()(),i.yb(4,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),i.yb(5,0,null,0,8,"ion-label",[],null,null,null,a.ab,a.s)),i.xb(6,49152,null,0,c.M,[i.h,i.l,i.B],null,null),(n()(),i.yb(7,0,null,0,4,"h3",[],null,null,null,null,null)),(n()(),i.Ub(8,null,[""," "," "])),i.Ob(9,2),(n()(),i.yb(10,0,null,null,1,"button",[["style","background-color: transparent"]],null,null,null,null,null)),(n()(),i.Ub(-1,null,["..... "])),(n()(),i.yb(12,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),i.Ub(13,null,["",""]))],null,(function(n,l){n(l,4,0,i.Fb(1,"",l.context.$implicit.PictureLink,""));var t=l.context.$implicit.BorrowerName,e=i.Vb(l,8,1,n(l,9,0,i.Mb(l.parent,0),l.context.$implicit.RentedDate,"MM/dd/yyyy"));n(l,8,0,t,e),n(l,13,0,l.context.$implicit.Description)}))}function O(n){return i.Xb(0,[i.Nb(0,s.e,[i.w]),i.Qb(671088640,1,{lineCanvas:0}),(n()(),i.yb(2,0,null,null,25,"ion-header",[],null,null,null,a.U,a.m)),i.xb(3,49152,null,0,c.A,[i.h,i.l,i.B],null,null),(n()(),i.yb(4,0,null,0,23,"ion-toolbar",[["color","header"]],null,null,null,a.pb,a.H)),i.xb(5,49152,null,0,c.yb,[i.h,i.l,i.B],{color:[0,"color"]},null),(n()(),i.yb(6,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,a.M,a.e)),i.xb(7,49152,null,0,c.k,[i.h,i.l,i.B],null,null),(n()(),i.yb(8,0,null,0,3,"ion-button",[["fill","clear"],["id","notification-button"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.settingsPopover(t)&&e),e}),a.L,a.d)),i.xb(9,49152,null,0,c.j,[i.h,i.l,i.B],{fill:[0,"fill"]},null),(n()(),i.yb(10,0,null,0,1,"ion-icon",[["name","settings"]],null,null,null,a.V,a.n)),i.xb(11,49152,null,0,c.B,[i.h,i.l,i.B],{name:[0,"name"]},null),(n()(),i.yb(12,0,null,0,2,"ion-title",[["class","ion-text-center"]],null,null,null,a.ob,a.G)),i.xb(13,49152,null,0,c.wb,[i.h,i.l,i.B],null,null),(n()(),i.Ub(-1,0,["Home"])),(n()(),i.yb(15,0,null,0,12,"ion-buttons",[["slot","end"]],null,null,null,a.M,a.e)),i.xb(16,49152,null,0,c.k,[i.h,i.l,i.B],null,null),(n()(),i.yb(17,0,null,0,6,"ion-button",[["fill","clear"],["id","notification-button"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.notificationPopover(t)&&e),e}),a.L,a.d)),i.xb(18,49152,null,0,c.j,[i.h,i.l,i.B],{fill:[0,"fill"]},null),(n()(),i.yb(19,0,null,0,1,"ion-icon",[["name","notifications"]],null,null,null,a.V,a.n)),i.xb(20,49152,null,0,c.B,[i.h,i.l,i.B],{name:[0,"name"]},null),(n()(),i.yb(21,0,null,0,2,"ion-badge",[["id","notifications-badge"]],null,null,null,a.K,a.c)),i.xb(22,49152,null,0,c.i,[i.h,i.l,i.B],null,null),(n()(),i.Ub(23,0,["",""])),(n()(),i.yb(24,0,null,0,3,"ion-button",[["slot","end"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.logOut()&&e),e}),a.L,a.d)),i.xb(25,49152,null,0,c.j,[i.h,i.l,i.B],null,null),(n()(),i.yb(26,0,null,0,1,"ion-icon",[["name","log-out"],["slot","icon-only"]],null,null,null,a.V,a.n)),i.xb(27,49152,null,0,c.B,[i.h,i.l,i.B],{name:[0,"name"]},null),(n()(),i.yb(28,0,null,null,49,"ion-content",[],null,null,null,a.R,a.j)),i.xb(29,49152,null,0,c.t,[i.h,i.l,i.B],null,null),(n()(),i.yb(30,0,null,0,7,"ion-card",[],null,null,null,a.P,a.f)),i.xb(31,49152,null,0,c.l,[i.h,i.l,i.B],null,null),(n()(),i.yb(32,0,null,0,2,"ion-card-header",[],null,null,null,a.O,a.h)),i.xb(33,49152,null,0,c.n,[i.h,i.l,i.B],null,null),(n()(),i.Ub(-1,0,[" Books "])),(n()(),i.yb(35,0,null,0,2,"ion-card-content",[],null,null,null,a.N,a.g)),i.xb(36,49152,null,0,c.m,[i.h,i.l,i.B],null,null),(n()(),i.yb(37,0,[[1,0],["lineCanvas",1]],0,0,"canvas",[],null,null,null,null,null)),(n()(),i.yb(38,0,null,0,32,"div",[],null,null,null,null,null)),(n()(),i.yb(39,0,null,null,31,"ion-grid",[],null,null,null,a.T,a.l)),i.xb(40,49152,null,0,c.z,[i.h,i.l,i.B],null,null),(n()(),i.yb(41,0,null,0,29,"ion-row",[],null,null,null,a.hb,a.z)),i.xb(42,49152,null,0,c.fb,[i.h,i.l,i.B],null,null),(n()(),i.yb(43,0,null,0,11,"ion-col",[["class","ion-align-self-start"]],null,null,null,a.Q,a.i)),i.xb(44,49152,null,0,c.s,[i.h,i.l,i.B],null,null),(n()(),i.yb(45,0,null,0,5,"p",[["style","text-align: center"]],null,null,null,null,null)),(n()(),i.yb(46,0,null,null,4,"a",[["class","icon-circle-large"],["style","background-color:#117A65"]],null,[[null,"click"]],(function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=!1!==(o.holdsCount>0&&o.showReceiving(o.holds))&&e),e}),null,null)),(n()(),i.hb(16777216,null,null,1,null,C)),i.xb(48,16384,null,0,s.m,[i.R,i.O],{ngIf:[0,"ngIf"]},null),(n()(),i.yb(49,0,null,null,1,"ion-icon",[["name","archive"]],null,null,null,a.V,a.n)),i.xb(50,49152,null,0,c.B,[i.h,i.l,i.B],{name:[0,"name"]},null),(n()(),i.hb(16777216,null,0,1,null,k)),i.xb(52,16384,null,0,s.m,[i.R,i.O],{ngIf:[0,"ngIf"]},null),(n()(),i.hb(16777216,null,0,1,null,w)),i.xb(54,16384,null,0,s.m,[i.R,i.O],{ngIf:[0,"ngIf"]},null),(n()(),i.yb(55,0,null,0,7,"ion-col",[["class","ion-align-self-center"]],null,null,null,a.Q,a.i)),i.xb(56,49152,null,0,c.s,[i.h,i.l,i.B],null,null),(n()(),i.yb(57,0,null,0,3,"p",[["style","text-align: center"]],null,null,null,null,null)),(n()(),i.yb(58,0,null,null,2,"a",[["class","icon-circle-large"],["style","background-color:#3FBFF4;"]],null,[[null,"click"]],(function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=!1!==o.showHistory(o.booksStat)&&e),e}),null,null)),(n()(),i.yb(59,0,null,null,1,"ion-icon",[["name","pulse"]],null,null,null,a.V,a.n)),i.xb(60,49152,null,0,c.B,[i.h,i.l,i.B],{name:[0,"name"]},null),(n()(),i.yb(61,0,null,0,1,"p",[["style","text-align: center;"]],null,null,null,null,null)),(n()(),i.Ub(-1,null,["Statistics"])),(n()(),i.yb(63,0,null,0,7,"ion-col",[["class","ion-align-self-end"]],null,null,null,a.Q,a.i)),i.xb(64,49152,null,0,c.s,[i.h,i.l,i.B],null,null),(n()(),i.yb(65,0,null,0,3,"p",[["style","text-align: center"]],null,null,null,null,null)),(n()(),i.yb(66,0,null,null,2,"a",[["class","icon-circle-large"],["style","background-color:#feb236 "]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.showStats()&&e),e}),null,null)),(n()(),i.yb(67,0,null,null,1,"ion-icon",[["name","logo-twitter"]],null,null,null,a.V,a.n)),i.xb(68,49152,null,0,c.B,[i.h,i.l,i.B],{name:[0,"name"]},null),(n()(),i.yb(69,0,null,0,1,"p",[["style","text-align: center;"]],null,null,null,null,null)),(n()(),i.Ub(-1,null,["News"])),(n()(),i.yb(71,0,null,0,6,"ion-list",[],null,null,null,a.cb,a.t)),i.xb(72,49152,null,0,c.N,[i.h,i.l,i.B],null,null),(n()(),i.yb(73,0,null,0,2,"ion-list-header",[],null,null,null,a.bb,a.u)),i.xb(74,49152,null,0,c.O,[i.h,i.l,i.B],null,null),(n()(),i.Ub(-1,0,[" Current Rental List "])),(n()(),i.hb(16777216,null,0,1,null,M)),i.xb(77,278528,null,0,s.l,[i.R,i.O,i.u],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var t=l.component;n(l,5,0,"header"),n(l,9,0,"clear"),n(l,11,0,"settings"),n(l,18,0,"clear"),n(l,20,0,"notifications"),n(l,27,0,"log-out"),n(l,48,0,t.holdsCount>0),n(l,50,0,"archive"),n(l,52,0,"Y"===t.authentication.getIsAdmin()),n(l,54,0,"Y"!=t.authentication.getIsAdmin()),n(l,60,0,"pulse"),n(l,68,0,"logo-twitter"),n(l,77,0,t.Transactions)}),(function(n,l){n(l,23,0,l.component.NotificationCount)}))}var B=i.ub("app-home",f,(function(n){return i.Xb(0,[(n()(),i.yb(0,0,null,null,1,"app-home",[],null,null,null,O,y)),i.xb(1,49152,null,0,f,[c.Eb,v.a,m.a,c.Hb,x.a,c.Cb],null,null)],null,null)}),{},{},[]),P=o("s7LF"),R=o("iInd"),_=i.vb(u,[],(function(n){return i.Jb([i.Kb(512,i.j,i.ab,[[8,[r.a,B]],[3,i.j],i.z]),i.Kb(4608,s.o,s.n,[i.w]),i.Kb(4608,c.c,c.c,[i.B,i.g]),i.Kb(4608,c.Db,c.Db,[c.c,i.j,i.t]),i.Kb(4608,c.Hb,c.Hb,[c.c,i.j,i.t]),i.Kb(4608,P.r,P.r,[]),i.Kb(1073742336,s.c,s.c,[]),i.Kb(1073742336,c.Ab,c.Ab,[]),i.Kb(1073742336,P.q,P.q,[]),i.Kb(1073742336,P.g,P.g,[]),i.Kb(1073742336,R.n,R.n,[[2,R.s],[2,R.m]]),i.Kb(1073742336,u,u,[]),i.Kb(1024,R.k,(function(){return[[{path:"",component:f}]]}),[])])}))}}])}();