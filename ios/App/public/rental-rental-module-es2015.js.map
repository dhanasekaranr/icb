{"version":3,"sources":["./src/app/rental/rental.page.html","./src/app/rental/rental.module.ts","./src/app/rental/rental.page.scss","./src/app/rental/rental.page.ts"],"names":[],"mappings":"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","file":"rental-rental-module-es2015.js","sourcesContent":["export default \"<app-header [title]=\\\"'Rental'\\\"></app-header>\\n\\n<ion-content class=\\\"home\\\" padding>\\n  <ion-item>\\n    <ion-searchbar\\n      [showCancelButton]=\\\"true\\\"\\n      (ionInput)=\\\"FilterBookDB($event)\\\"\\n      (ionCancel)=\\\"searchTransDB()\\\">\\n    </ion-searchbar>\\n  </ion-item>\\n\\n  <ion-list>\\n      <ion-item *ngFor=\\\"let book of books | search: null:CodeSearch\\\">\\n        <ion-label text-wrap>\\n          <h2>{{book.Code}}</h2>\\n          <p class=\\\"item-description\\\">{{book.Description}}</p>\\n          <p *ngIf=\\\"book.Status != 2\\\" style=\\\"color:green;\\\">{{book.RenterName}} </p>\\n        </ion-label>    \\n        <ion-button color=\\\"danger\\\" (click)=\\\"markReturn(book.TransactionId)\\\" slot=\\\"end\\\" *ngIf=\\\"book.Status != 2 \\\">\\n            <ion-icon name=\\\"refresh\\\"></ion-icon>\\n            Return Book\\n        </ion-button>\\n        <ion-button color=\\\"primary\\\" (click)=\\\"checkout(book)\\\" slot=\\\"end\\\" *ngIf=\\\"book.Status == 2 \\\">\\n            <ion-icon name=\\\"cart\\\"></ion-icon>\\n            Check out\\n        </ion-button>          \\n      </ion-item>\\n  </ion-list>\\n</ion-content>\"","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RentalPage } from './rental.page';\nimport { PipesModule } from 'src/shared/pipes.module';\nimport { LayoutModule } from '../layout/layout.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: RentalPage }]), PipesModule, LayoutModule\n  ],\n  declarations: [RentalPage]\n})\nexport class RentalPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JlbnRhbC9yZW50YWwucGFnZS5zY3NzIn0= */\"","import { Component } from '@angular/core';\nimport { Authentication } from 'src/shared/shared';\nimport { MasterDetailService } from 'src/providers/data-service/masterDetailService';\nimport { NavController, ToastController, Platform, LoadingController } from '@ionic/angular';\nimport { ICBService } from 'src/shared/service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-rental',\n  templateUrl: 'rental.page.html',\n  styleUrls: ['rental.page.scss']\n})\nexport class RentalPage {\n  sub: any;\n  books: Array<any>;\n  loader: Promise<HTMLIonLoadingElement>; CodeSearch = '';\n  constructor(public navCtrl: NavController, private icbservice: ICBService, public platform: Platform,\n              public toastCtrl: ToastController, public authentication: Authentication, public loading: LoadingController,\n              private ms: MasterDetailService, private route: ActivatedRoute,\n              private router: Router) {\n}\nsearchTransDB() {\n      this.icbservice.searchTrans('book', 'GetBookCodes').then(\n          data => {\n              this.books = data;\n          });\n}\nFilterBookDB(event) {\n  this.CodeSearch = event.target.value;\n\n}\nOnDestroy() {\n  this.sub.unsubscribe();\n}\n\nionViewWillEnter() {\n this.sub  = this.route\n      .queryParams\n      .subscribe(params => {\n        if ( params.refresh) {\n          this.books = null;\n        }\n      });\n\n if (this.books != null) {return; }\n if ( this.authentication.getAccessToken() != null) {\n      this.loader = this.loading.create({\n        message: 'Getting books...'\n      });\n      this.searchTransDB();\n    } else {\n     this.navCtrl.navigateForward('tabs/login');\n    }\n}\nmarkReturn(trasnsId: any) {\n  this.icbservice.markReturn(trasnsId).then(\n    async data => {\n      const toast = await this.toastCtrl.create({\n       message: 'Returned successfully !',\n       duration: 2000\n     });\n      toast.present();\n      this.searchTransDB();\n  });\n}\ncheckout( key: any ) {\n  this.ms.setDestn(key);\n  this.ms.setAction('Out');\n  this.ms.setHome('N');\n  this.navCtrl.navigateForward('tabs/checkoutPage');\n  }\n}\n"],"sourceRoot":"webpack:///"}