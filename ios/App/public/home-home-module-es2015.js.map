{"version":3,"sources":["./src/app/home/home.page.html","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,2aAA4W,wBAAwB,4OAA4O,kBAAkB,mFAAmF,2qBAA2qB,qBAAqB,iEAAiE,gBAAgB,iJAAiJ,k8BAAk8B,kBAAkB,6EAA6E,mBAAmB,GAAG,sCAAsC,0FAA0F,kBAAkB,iH;;;;;;;;;;;;;;;;;;;;;;ACAlyF;AACE;AACN;AACM;AACF;AACN;AAYvC,IAAa,cAAc,GAA3B,MAAa,cAAc;CAAG;AAAjB,cAAc;IAV1B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,0DAAW;YACX,4DAAY;YACZ,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,mDAAQ,EAAE,CAAC,CAAC;SAC3D;QACD,YAAY,EAAE,CAAC,mDAAQ,CAAC;QACxB,eAAe,EAAE,EAAE;KACpB,CAAC;GACW,cAAc,CAAG;AAAH;;;;;;;;;;;;;ACjB3B;AAAe,mFAAoB,qBAAqB,qBAAqB,GAAG,0BAA0B,uBAAuB,aAAa,gBAAgB,eAAe,sBAAsB,GAAG,0BAA0B,uBAAuB,aAAa,eAAe,wBAAwB,qBAAqB,iBAAiB,qBAAqB,0BAA0B,GAAG,OAAO,yBAAyB,sBAAsB,GAAG,uBAAuB,mBAAmB,GAAG,uBAAuB,uBAAuB,GAAG,2BAA2B,yBAAyB,uBAAuB,gBAAgB,iBAAiB,gCAAgC,wBAAwB,6BAA6B,gCAAgC,4CAA4C,+CAA+C,GAAG,iCAAiC,kBAAkB,uBAAuB,gBAAgB,iBAAiB,wBAAwB,aAAa,cAAc,uBAAuB,sBAAsB,wBAAwB,6BAA6B,gCAAgC,GAAG,kCAAkC,kBAAkB,wBAAwB,gBAAgB,iBAAiB,uBAAuB,cAAc,cAAc,sBAAsB,wBAAwB,6BAA6B,gCAAgC,GAAG,6BAA6B,QAAQ,sCAAsC,KAAK,UAAU,wCAAwC,KAAK,GAAG,6CAA6C,ugM;;;;;;;;;;;;;;;;;;;;;;;;;ACA5gD;AAEgC;AAClC;AACH;AAEf;AACoD;AAC7C;AACwB;AAOhE,IAAa,QAAQ,GAArB,MAAa,QAAQ;IAcnB,YAAmB,OAAsB,EAAS,cAA8B,EAC5D,OAAmB,EAAS,WAA8B,EAAU,EAAuB,EAC5F,OAA0B;QAF1B,YAAO,GAAP,OAAO,CAAe;QAAS,mBAAc,GAAd,cAAc,CAAgB;QAC5D,YAAO,GAAP,OAAO,CAAY;QAAS,gBAAW,GAAX,WAAW,CAAmB;QAAU,OAAE,GAAF,EAAE,CAAqB;QAC5F,YAAO,GAAP,OAAO,CAAmB;QAb7C,mBAAc,GAAG,EAAE,CAAC;QACpB,gBAAW,GAAG,EAAE,CAAC;QACjB,WAAM,GAAG,EAAE,CAAC;QACZ,mBAAc,GAAG,CAAC,CAAC;QAGnB,gBAAW,GAAG,CAAC,CAAC;QAChB,sBAAiB,GAAG,CAAC,CAAC;QAEtB,sBAAiB,GAAG,CAAC,CAAC;IAMtB,CAAC;IAIK,gBAAgB;;YACjB,IAAK,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,IAAI,IAAI,EAAE;gBAClD,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;gBACnB,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,sBAAsB,EAAC,CAAC,CAAC;gBAC3E,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;oBAChC,IAAI,CAAC,aAAa,EAAE,CAAC;oBACrB,IAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,IAAI,CAAC,aAAa,EAAE,CAAC;oBACrB,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBACzB,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC7B,CAAC,CAAC,CAAC;aACH;iBAAM;gBACL,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;aAC5C;QACL,CAAC;KAAA;IACK,cAAc,CAAC,OAAY;;YAChC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC5C,SAAS,EAAE,oDAAW;gBACtB,cAAc,EAAG,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE;gBACtC,KAAK,EAAE,OAAO;gBACd,WAAW,EAAE,IAAI;aAClB,CAAC,CAAC;YACH,OAAO,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;YAE/B,OAAO,CAAC,YAAY,EAAE,CAAC;QAEzB,CAAC;KAAA;IAEK,mBAAmB,CAAC,OAAY;;YAEpC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,SAAS,EAAE,4EAAuB,EAAE,cAAc,EAAG,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,EAAE,EAAC,CAAC,CAAC;YACnI,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,CAAC,YAAY,EAAE,CAAC;QACzB,CAAC;KAAA;IAED,QAAQ,CAAE,GAAQ;QAChB,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC;IACjD,CAAC;IACD,WAAW,CAAE,GAAQ;QACnB,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC;IACpD,CAAC;IACD,SAAS;QACP,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,iBAAiB,CAAC,CAAC;IAClD,CAAC;IAED,WAAW,CAAE,GAAQ;QACnB,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC;IACpD,CAAC;IACD,mBAAmB;QACjB,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,CAAC,IAAI,CACnC,IAAI,CAAC,EAAE;YACL,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;QACtD,CAAC,CAAC,CAAC;IACL,CAAC;IACH,qBAAqB;QAEnB,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC,IAAI,CACrC,IAAI,CAAC,EAAE;YACL,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;YAClD,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC,CACJ,CAAC;IAAC,CAAC;IAEJ,iBAAiB;QACf,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC,IAAI,CACjC,IAAI,CAAC,EAAE;YACL,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QAC1C,CAAC,CACJ,CAAC;IAAC,CAAC;IACH,aAAa;QACV,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,IAAI,CACvC,IAAI,CAAC,EAAE;YAEL,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,SAAS,GAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,EAAE;gBACxD,OAAO,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;YACvD,CAAC,EAAE,CAAC,CAAC,CAAC;YACN,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,EAAE;gBAC5D,OAAO,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YACtD,CAAC,EAAE,CAAC,CAAC,CAAC;QACF,CAAC,CACJ,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;YACZ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;IACP,CAAC;IACF,eAAe;QACV,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC,IAAI,CAC7C,IAAI,CAAC,EAAE;YACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;YAC/B,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;YAC5B,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAG,CAAC,GAAG,EAAE,EAAE;gBAC3B,IAAI,GAAG,CAAC,IAAI,KAAK,EAAE,EAAE;oBACnB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;iBACxC;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;oBACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;iBACnC;YACH,CAAC,CAAC,CAAC;YACP,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;QACxB,CAAC,CACJ,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;YACR,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IACH,aAAa;QAEd,IAAI,CAAC,SAAS,GAAG,IAAI,8CAAK,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE;YAEnD,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE;gBACF,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,QAAQ,EAAE;oBACN;wBACI,KAAK,EAAE,WAAW;wBAClB,IAAI,EAAE,KAAK;wBACX,WAAW,EAAE,GAAG;wBAChB,eAAe,EAAE,sBAAsB;wBACvC,WAAW,EAAE,oBAAoB;wBACjC,cAAc,EAAE,MAAM;wBACtB,UAAU,EAAE,EAAE;wBACd,gBAAgB,EAAE,GAAG;wBACrB,eAAe,EAAE,OAAO;wBACxB,gBAAgB,EAAE,oBAAoB;wBACtC,oBAAoB,EAAE,MAAM;wBAC5B,gBAAgB,EAAE,CAAC;wBACnB,gBAAgB,EAAE,CAAC;wBACnB,yBAAyB,EAAE,oBAAoB;wBAC/C,qBAAqB,EAAE,qBAAqB;wBAC5C,qBAAqB,EAAE,CAAC;wBACxB,WAAW,EAAE,CAAC;wBACd,cAAc,EAAE,CAAC;wBACjB,IAAI,EAAE,IAAI,CAAC,cAAc;wBACzB,QAAQ,EAAE,IAAI;qBACjB;oBACD;wBACE,KAAK,EAAE,gBAAgB;wBACvB,IAAI,EAAE,KAAK;wBACX,WAAW,EAAE,GAAG;wBAChB,eAAe,EAAE,sBAAsB;wBACvC,WAAW,EAAE,oBAAoB;wBACjC,cAAc,EAAE,MAAM;wBACtB,UAAU,EAAE,EAAE;wBACd,gBAAgB,EAAE,GAAG;wBACrB,eAAe,EAAE,OAAO;wBACxB,gBAAgB,EAAE,oBAAoB;wBACtC,oBAAoB,EAAE,MAAM;wBAC5B,gBAAgB,EAAE,CAAC;wBACnB,gBAAgB,EAAE,CAAC;wBACnB,yBAAyB,EAAE,oBAAoB;wBAC/C,qBAAqB,EAAE,qBAAqB;wBAC5C,qBAAqB,EAAE,CAAC;wBACxB,WAAW,EAAE,CAAC;wBACd,cAAc,EAAE,CAAC;wBACjB,IAAI,EAAE,IAAI,CAAC,WAAW;wBACtB,QAAQ,EAAE,IAAI;qBACjB;iBACF;aACJ;SAEJ,CAAC,CAAC;IAEP,CAAC;IACD,MAAM;QACJ,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;IAE9C,CAAC;CACA;;YAxL6B,4DAAa;YAAyB,gEAAc;YACnD,6DAAU;YAAsB,gEAAiB;YAAc,kGAAmB;YACnF,gEAAiB;;AAGH;IAAzC,+DAAS,CAAC,YAAY,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC,CAAC;;4CAAqC;AAnBnE,QAAQ;IALpB,+DAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,sMAA6B;;KAE9B,CAAC;2EAe4B,4DAAa,EAAyB,gEAAc;QACnD,6DAAU,EAAsB,gEAAiB,EAAc,kGAAmB;QACnF,gEAAiB;GAhBlC,QAAQ,CAsMpB;AAtMoB","file":"home-home-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar color=\\\"header\\\">\\n      <ion-title class=\\\"ion-text-center\\\">Home</ion-title>\\n      <ion-buttons slot=\\\"end\\\">\\n          <ion-button id=\\\"notification-button\\\" fill=\\\"clear\\\" (click)=\\\"notificationPopover($event)\\\">\\n            <ion-icon name=\\\"notifications\\\" ></ion-icon>\\n            <ion-badge id=\\\"notifications-badge\\\" >{{this.NotificationCount}}</ion-badge>\\n\\n      </ion-button>\\n\\n        <ion-button id=\\\"notification-button\\\" fill=\\\"clear\\\" (click)=\\\"presentPopover($event)\\\">\\n          <ion-icon name=\\\"heart\\\"></ion-icon>\\n          <ion-badge id=\\\"notifications-badge\\\">{{this.WishesCount}}</ion-badge>\\n\\n\\n      </ion-button>\\n\\n        <ion-button (click)=this.logOut();>\\n          <ion-icon slot=\\\"icon-only\\\" name=\\\"md-log-out\\\" ></ion-icon>\\n        </ion-button>\\n      </ion-buttons>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n<ion-content>\\n  <ion-card>\\n      <ion-card-header>\\n        Books\\n      </ion-card-header>\\n      <ion-card-content>\\n        <canvas #lineCanvas></canvas>\\n      </ion-card-content>\\n    </ion-card>\\n     <div>\\n    <ion-grid>\\n      <ion-row nowrap>\\n        <ion-col>\\n          <ion-card text-center padding-right padding-top padding-bottom style=\\\"background-color:#f18973\\\" (click)=\\\"showRentals(this.Transactions)\\\">\\n            <ion-icon name=\\\"book\\\">\\n                <ion-badge id=\\\"notifications-badge\\\" >{{this.AvailableCount}}</ion-badge>\\n            </ion-icon>\\n            <span>Books({{this.RentedOut}})</span>\\n          </ion-card>\\n        </ion-col>\\n        <ion-col>\\n          <ion-card text-center padding style=\\\"background-color:#82b74b;\\\" (click)=\\\"showHistory(this.booksStat)\\\">\\n              <ion-icon name=\\\"pulse\\\">\\n                  <ion-badge id=\\\"notifications-badge\\\" color=\\\"danger\\\"></ion-badge>\\n                </ion-icon>\\n            <span>Statistics</span>\\n          </ion-card>\\n        </ion-col>\\n        <ion-col>\\n          <ion-card text-center padding style=\\\"background-color:#feb236 \\\" (click)=\\\"showStats()\\\">\\n              <ion-icon name=\\\"logo-twitter\\\">\\n                  <ion-badge id=\\\"notifications-badge\\\" color=\\\"danger\\\"></ion-badge>\\n                </ion-icon>\\n              <span>News</span>\\n          </ion-card>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n \\n    <ion-list>\\n        <ion-list-header>\\n            Current Rental List\\n          </ion-list-header>\\n      \\n  \\n          <ion-item *ngFor=\\\"let tran of Transactions\\\">\\n            <ion-avatar slot=\\\"start\\\" (click)=\\\"bookInfo(tran)\\\">\\n              <img src=\\\"{{tran.PictureLink}}\\\">\\n            </ion-avatar>\\n            <ion-label>\\n              <h3>{{tran.BorrowerName}} {{tran.RentedDate | date: 'MM/dd/yyyy'}} <button style=\\\"background-color: transparent\\\">..... </button></h3>\\n              <p>{{tran.Description}}</p>              \\n            </ion-label>\\n          </ion-item>\\n\\n\\n\\n    </ion-list>\\n\\n</ion-content>\\n\\n\"","import { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HomePage } from './home.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule.forChild([{ path: '', component: HomePage }])\r\n  ],\r\n  declarations: [HomePage],\r\n  entryComponents: [],\r\n})\r\nexport class HomePageModule {}\r\n","export default \".welcome-card img {\\n  max-height: 35vh;\\n  overflow: hidden;\\n}\\n\\n#notification-button {\\n  position: relative;\\n  top: 0px;\\n  right: -5px;\\n  left: -3px;\\n  font-size: 1.25em;\\n}\\n\\n#notifications-badge {\\n  position: absolute;\\n  top: 0px;\\n  right: 0px;\\n  border-radius: 100%;\\n  font-weight: 100;\\n  color: white;\\n  font-size: 0.5em;\\n  background-color: red;\\n}\\n\\nP {\\n  font-weight: lighter;\\n  font-size: 1.25ex;\\n}\\n\\nion-card ion-icon {\\n  font-size: 3em;\\n}\\n\\npage-home .center {\\n  text-align: center;\\n}\\n\\npage-home .ionic-logo {\\n  display: inline-flex;\\n  position: relative;\\n  width: 87px;\\n  height: 87px;\\n  border: 3.5px solid #5E86C4;\\n  border-radius: 100%;\\n  -moz-border-radius: 100%;\\n  -webkit-border-radius: 100%;\\n  -moz-animation: spin 2s infinite linear;\\n  -webkit-animation: spin 2s infinite linear;\\n}\\n\\npage-home .ionic-logo:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  width: 38px;\\n  height: 38px;\\n  background: #5E86C4;\\n  top: 50%;\\n  left: 50%;\\n  margin-left: -19px;\\n  margin-top: -19px;\\n  border-radius: 100%;\\n  -moz-border-radius: 100%;\\n  -webkit-border-radius: 100%;\\n}\\n\\npage-home .ionic-logo:before {\\n  content: \\\"\\\";\\n  background: #5E86C4;\\n  width: 14px;\\n  height: 14px;\\n  position: absolute;\\n  top: -8px;\\n  left: 50%;\\n  margin-left: -7px;\\n  border-radius: 100%;\\n  -moz-border-radius: 100%;\\n  -webkit-border-radius: 100%;\\n}\\n\\n@-webkit-keyframes spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9DOlxcVXNlcnNcXERoYW5hXFxEb2N1bWVudHNcXFZpc3VhbCBTdHVkaW8gMjAxN1xcUHJvamVjdHNcXElDQkFwcC9zcmNcXGFwcFxcaG9tZVxcaG9tZS5wYWdlLnNjc3MiLCJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0FDQ0Y7O0FEQ0E7RUFDRSxrQkFBQTtFQUVBLFFBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FER0E7RUFFRSxrQkFBQTtFQUVELFFBQUE7RUFDQSxVQUFBO0VBQ0MsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLHFCQUFBO0FDRkY7O0FESUE7RUFDRSxvQkFBQTtFQUFxQixpQkFBQTtBQ0F2Qjs7QURHQTtFQUNFLGNBQUE7QUNBRjs7QURLRTtFQUNJLGtCQUFBO0FDRk47O0FES0U7RUFDRSxvQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSwyQkFBQTtFQUNBLG1CQUFBO0VBQ0Esd0JBQUE7RUFDQSwyQkFBQTtFQUNBLHVDQUFBO0VBQ0EsMENBQUE7QUNISjs7QURNRTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLHdCQUFBO0VBQ0EsMkJBQUE7QUNKSjs7QURPRTtFQUNFLFdBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsU0FBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx3QkFBQTtFQUNBLDJCQUFBO0FDTEo7O0FEUUU7RUFDSTtJQUNJLCtCQUFBO0VDTlI7RURTSTtJQUNJLGlDQUFBO0VDUFI7QUFDRiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIud2VsY29tZS1jYXJkIGltZyB7XHJcbiAgbWF4LWhlaWdodDogMzV2aDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG59XHJcbiNub3RpZmljYXRpb24tYnV0dG9uIHsgICAgICAgICAgICBcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gIHRvcDowcHg7XHJcbiAgcmlnaHQ6IC01cHg7XHJcbiAgbGVmdCA6IC0zcHg7XHJcbiAgZm9udC1zaXplOjEuMjVlbTtcclxufVxyXG5cclxuXHJcbiNub3RpZmljYXRpb25zLWJhZGdlIHtcclxuXHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIFxyXG4gdG9wOjBweDtcclxuIHJpZ2h0OiAwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogMTAwJTtcclxuICBmb250LXdlaWdodDogMTAwO1xyXG4gIGNvbG9yOndoaXRlO1xyXG4gIGZvbnQtc2l6ZTouNWVtO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcclxufVxyXG5Qe1xyXG4gIGZvbnQtd2VpZ2h0OiBsaWdodGVyO2ZvbnQtc2l6ZTogMS4yNWV4O1xyXG59XHJcbmlvbi1jYXJke1xyXG5pb24taWNvbiB7XHJcbiAgZm9udC1zaXplOiAzZW07XHJcbn1cclxufVxyXG5cclxucGFnZS1ob21lIHtcclxuICAuY2VudGVyIHtcclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyOyAgXHJcbiAgfVxyXG4gIFxyXG4gIC5pb25pYy1sb2dvIHtcclxuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG4gICAgcG9zaXRpb246cmVsYXRpdmU7XHJcbiAgICB3aWR0aDo4N3B4O1xyXG4gICAgaGVpZ2h0Ojg3cHg7XHJcbiAgICBib3JkZXI6My41cHggc29saWQgIzVFODZDNDtcclxuICAgIGJvcmRlci1yYWRpdXM6MTAwJTtcclxuICAgIC1tb3otYm9yZGVyLXJhZGl1czoxMDAlO1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOjEwMCU7XHJcbiAgICAtbW96LWFuaW1hdGlvbjogc3BpbiAycyBpbmZpbml0ZSBsaW5lYXI7XHJcbiAgICAtd2Via2l0LWFuaW1hdGlvbjogc3BpbiAycyBpbmZpbml0ZSBsaW5lYXI7XHJcbiAgfVxyXG5cclxuICAuaW9uaWMtbG9nbzphZnRlciB7XHJcbiAgICBjb250ZW50OicnO1xyXG4gICAgcG9zaXRpb246YWJzb2x1dGU7XHJcbiAgICB3aWR0aDozOHB4O1xyXG4gICAgaGVpZ2h0OjM4cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjNUU4NkM0O1xyXG4gICAgdG9wOjUwJTtcclxuICAgIGxlZnQ6NTAlO1xyXG4gICAgbWFyZ2luLWxlZnQ6LTE5cHg7XHJcbiAgICBtYXJnaW4tdG9wOi0xOXB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czoxMDAlO1xyXG4gICAgLW1vei1ib3JkZXItcmFkaXVzOjEwMCU7XHJcbiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6MTAwJTtcclxuICB9XHJcblxyXG4gIC5pb25pYy1sb2dvOmJlZm9yZSB7XHJcbiAgICBjb250ZW50OicnO1xyXG4gICAgYmFja2dyb3VuZDogIzVFODZDNDtcclxuICAgIHdpZHRoOjE0cHg7XHJcbiAgICBoZWlnaHQ6MTRweDtcclxuICAgIHBvc2l0aW9uOmFic29sdXRlO1xyXG4gICAgdG9wOi04cHg7XHJcbiAgICBsZWZ0OjUwJTtcclxuICAgIG1hcmdpbi1sZWZ0Oi03cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOjEwMCU7XHJcbiAgICAtbW96LWJvcmRlci1yYWRpdXM6MTAwJTtcclxuICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czoxMDAlO1xyXG4gIH1cclxuXHJcbiAgQC13ZWJraXQta2V5ZnJhbWVzIHNwaW4ge1xyXG4gICAgICAwJSB7XHJcbiAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAxMDAlIHtcclxuICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgQC1tb3ota2V5ZnJhbWVzIHNwaW4ge1xyXG4gICAgICAwJSB7XHJcbiAgICAgICAgICAtbW96LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAxMDAlIHtcclxuICAgICAgICAgIC1tb3otdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcclxuICAgICAgfVxyXG4gIH1cclxufVxyXG4iLCIud2VsY29tZS1jYXJkIGltZyB7XG4gIG1heC1oZWlnaHQ6IDM1dmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbiNub3RpZmljYXRpb24tYnV0dG9uIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDBweDtcbiAgcmlnaHQ6IC01cHg7XG4gIGxlZnQ6IC0zcHg7XG4gIGZvbnQtc2l6ZTogMS4yNWVtO1xufVxuXG4jbm90aWZpY2F0aW9ucy1iYWRnZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwcHg7XG4gIHJpZ2h0OiAwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwMCU7XG4gIGZvbnQtd2VpZ2h0OiAxMDA7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC1zaXplOiAwLjVlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xufVxuXG5QIHtcbiAgZm9udC13ZWlnaHQ6IGxpZ2h0ZXI7XG4gIGZvbnQtc2l6ZTogMS4yNWV4O1xufVxuXG5pb24tY2FyZCBpb24taWNvbiB7XG4gIGZvbnQtc2l6ZTogM2VtO1xufVxuXG5wYWdlLWhvbWUgLmNlbnRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbnBhZ2UtaG9tZSAuaW9uaWMtbG9nbyB7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiA4N3B4O1xuICBoZWlnaHQ6IDg3cHg7XG4gIGJvcmRlcjogMy41cHggc29saWQgIzVFODZDNDtcbiAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgLW1vei1ib3JkZXItcmFkaXVzOiAxMDAlO1xuICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDEwMCU7XG4gIC1tb3otYW5pbWF0aW9uOiBzcGluIDJzIGluZmluaXRlIGxpbmVhcjtcbiAgLXdlYmtpdC1hbmltYXRpb246IHNwaW4gMnMgaW5maW5pdGUgbGluZWFyO1xufVxucGFnZS1ob21lIC5pb25pYy1sb2dvOmFmdGVyIHtcbiAgY29udGVudDogXCJcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMzhweDtcbiAgaGVpZ2h0OiAzOHB4O1xuICBiYWNrZ3JvdW5kOiAjNUU4NkM0O1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICBtYXJnaW4tbGVmdDogLTE5cHg7XG4gIG1hcmdpbi10b3A6IC0xOXB4O1xuICBib3JkZXItcmFkaXVzOiAxMDAlO1xuICAtbW96LWJvcmRlci1yYWRpdXM6IDEwMCU7XG4gIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMTAwJTtcbn1cbnBhZ2UtaG9tZSAuaW9uaWMtbG9nbzpiZWZvcmUge1xuICBjb250ZW50OiBcIlwiO1xuICBiYWNrZ3JvdW5kOiAjNUU4NkM0O1xuICB3aWR0aDogMTRweDtcbiAgaGVpZ2h0OiAxNHB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogLThweDtcbiAgbGVmdDogNTAlO1xuICBtYXJnaW4tbGVmdDogLTdweDtcbiAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgLW1vei1ib3JkZXItcmFkaXVzOiAxMDAlO1xuICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDEwMCU7XG59XG5ALXdlYmtpdC1rZXlmcmFtZXMgc3BpbiB7XG4gIDAlIHtcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICB9XG4gIDEwMCUge1xuICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcbiAgfVxufVxuQC1tb3ota2V5ZnJhbWVzIHNwaW4ge1xuICAwJSB7XG4gICAgLW1vei10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgfVxuICAxMDAlIHtcbiAgICAtbW96LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XG4gIH1cbn0iXX0= */\"","import { Component, ViewChild } from '@angular/core';\r\n\r\nimport { PopoverController, NavController, LoadingController } from '@ionic/angular';\r\nimport { Authentication } from 'src/shared/shared';\r\nimport { ICBService } from 'src/shared/service';\r\n\r\nimport { Chart } from 'chart.js';\r\nimport { MasterDetailService } from 'src/providers/data-service/masterDetailService';\r\nimport { PopoverPage } from './popover';\r\nimport { NotificationPopoverPage } from './notificationPopover';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'home.page.html',\r\n  styleUrls: ['home.page.scss']\r\n})\r\nexport class HomePage {\r\n  books: Array<any>;\r\n  booksStat: Array<any>;\r\n  completedMonth = [];\r\n  rentalMonth = [];\r\n  Months = [];\r\n  AvailableCount = 0; RentedOut: 0;\r\n  wishes: Array<any>;\r\n  notification: Array<any>;\r\n  WishesCount = 0;\r\n  NotificationCount = 0;\r\n  Transactions: any;\r\n  TransactionsCount = 0;\r\n  loader: any;\r\n  constructor(public navCtrl: NavController, public authentication: Authentication,\r\n              private service: ICBService, public popoverCtrl: PopoverController, private ms: MasterDetailService,\r\n              public loading: LoadingController) {\r\n\r\n  }\r\n  @ViewChild('lineCanvas', {static: false}) lineCanvas: { nativeElement: any; };\r\n\r\n  lineChart: any;\r\n  async ionViewWillEnter() {\r\n       if ( this.authentication.getAccessToken() != null) {\r\n        this.RentedOut = 0;\r\n        this.loader = await this.loading.create({message: 'loading dashboard...'});\r\n        this.loader.present().then(() => {\r\n        this.drawLineChart();\r\n        this.getRentalStatus();\r\n        this.getBookCounts();\r\n        this.getActiveWishList();\r\n        this.getNotificationList();\r\n        this.getRentalTransactions();\r\n        });\r\n       } else {\r\n         this.navCtrl.navigateForward('tabs/login');\r\n       }\r\n   }\r\n   async presentPopover(myEvent: any) {\r\n    const popover = await this.popoverCtrl.create({\r\n      component: PopoverPage,\r\n      componentProps : { data: this.wishes },\r\n      event: myEvent,\r\n      translucent: true\r\n    });\r\n    return await popover.present();\r\n\r\n    popover.onDidDismiss();\r\n\r\n  }\r\n\r\n  async notificationPopover(myEvent: any) {\r\n\r\n    const popover = await this.popoverCtrl.create({ component: NotificationPopoverPage, componentProps : { data: this.notification }});\r\n    popover.present();\r\n    popover.onDidDismiss();\r\n  }\r\n\r\n  bookInfo( key: any) {\r\n    this.ms.setDestn(key);\r\n    this.navCtrl.navigateForward('/tabs/bookInfo');\r\n  }\r\n  showRentals( key: any) {\r\n    this.ms.setDestn(key);\r\n    this.navCtrl.navigateForward('/tabs/rentalsPage');\r\n  }\r\n  showStats() {\r\n    this.navCtrl.navigateForward('/tabs/statsPage');\r\n  }\r\n\r\n  showHistory( key: any) {\r\n    this.ms.setDestn(key);\r\n    this.navCtrl.navigateForward('/tabs/historyPage');\r\n  }\r\n  getNotificationList() {\r\n    this.service.getNotificationList().then(\r\n        data => {\r\n          this.notification = data;\r\n          this.NotificationCount = this.notification.length;\r\n      });\r\n    }\r\n  getRentalTransactions() {\r\n\r\n    this.service.getRentalTransactions().then(\r\n        data => {\r\n          this.Transactions = data;\r\n          this.TransactionsCount = this.Transactions.length;\r\n          this.loader.dismiss();\r\n      }\r\n  ); }\r\n\r\n  getActiveWishList() {\r\n    this.service.getActiveWishList().then(\r\n        data => {\r\n          this.wishes = data;\r\n          this.WishesCount = this.wishes.length;\r\n      }\r\n  ); }\r\n   getBookCounts() {\r\n      this.service.searchTrans('book', '').then(\r\n        data => {\r\n\r\n          this.books = data;\r\n          this.RentedOut =  this.books.reduce((previous, current) => {\r\n            return previous + parseInt(current.RentedCopies, 10);\r\n          }, 0);\r\n          this.AvailableCount = this.books.reduce((previous, current) => {\r\n            return previous + parseInt(current.TotalCopies, 10);\r\n          }, 0);\r\n              }\r\n          ).catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n   getRentalStatus() {\r\n        this.service.getRentalStatus('monthly', '0').then(\r\n            data => {\r\n              this.booksStat = data;\r\n              this.completedMonth.length = 0;\r\n              this.rentalMonth.length = 0;\r\n              this.Months.length = 0;\r\n              this.booksStat.forEach ( (key) => {\r\n                    if (key.Stat === 17) {\r\n                      this.completedMonth.push(key.Borrower);\r\n                    } else {\r\n                      this.rentalMonth.push(key.Borrower);\r\n                      this.Months.push(key.RentalMonth);\r\n                    }\r\n                  });\r\n              this.lineChart.update();\r\n              }\r\n          ).catch(err => {\r\n                console.log(err);\r\n        });\r\n    }\r\n  drawLineChart() {\r\n\r\n this.lineChart = new Chart(this.lineCanvas.nativeElement, {\r\n\r\n        type: 'line',\r\n        data: {\r\n            labels: this.Months,\r\n            datasets: [\r\n                {\r\n                    label: 'Completed',\r\n                    fill: false,\r\n                    lineTension: 0.1,\r\n                    backgroundColor: 'rgba(75,192,192,0.4)',\r\n                    borderColor: 'rgba(75,192,192,1)',\r\n                    borderCapStyle: 'butt',\r\n                    borderDash: [],\r\n                    borderDashOffset: 0.0,\r\n                    borderJoinStyle: 'miter',\r\n                    pointBorderColor: 'rgba(75,192,192,1)',\r\n                    pointBackgroundColor: '#fff',\r\n                    pointBorderWidth: 1,\r\n                    pointHoverRadius: 5,\r\n                    pointHoverBackgroundColor: 'rgba(75,192,192,1)',\r\n                    pointHoverBorderColor: 'rgba(220,220,220,1)',\r\n                    pointHoverBorderWidth: 1,\r\n                    pointRadius: 1,\r\n                    pointHitRadius: 1,\r\n                    data: this.completedMonth,\r\n                    spanGaps: true,\r\n                },\r\n                {\r\n                  label: 'Current Rental',\r\n                  fill: false,\r\n                  lineTension: 0.1,\r\n                  backgroundColor: 'rgba(192,77,192,0.4)',\r\n                  borderColor: 'rgba(192,77,192,1)',\r\n                  borderCapStyle: 'butt',\r\n                  borderDash: [],\r\n                  borderDashOffset: 0.0,\r\n                  borderJoinStyle: 'miter',\r\n                  pointBorderColor: 'rgba(192,77,192,1)',\r\n                  pointBackgroundColor: '#fff',\r\n                  pointBorderWidth: 1,\r\n                  pointHoverRadius: 5,\r\n                  pointHoverBackgroundColor: 'rgba(192,77,192,1)',\r\n                  pointHoverBorderColor: 'rgba(220,220,220,1)',\r\n                  pointHoverBorderWidth: 1,\r\n                  pointRadius: 1,\r\n                  pointHitRadius: 1,\r\n                  data: this.rentalMonth,\r\n                  spanGaps: true,\r\n              }\r\n            ]\r\n        }\r\n\r\n    });\r\n\r\n}\r\nlogOut() {\r\n  this.authentication.logout();\r\n  this.navCtrl.navigateForward('/tabs/login');\r\n\r\n}\r\n}\r\n"],"sourceRoot":"webpack:///"}