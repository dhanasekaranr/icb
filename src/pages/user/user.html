
<ion-header>
  <ion-navbar color="header">
    <ion-title style="text-align: center">User List</ion-title>
        <ion-buttons end>

          <button style="background-color: #0277bd">
            <ion-icon  style="color:white; font-size: 25px;" name="md-log-out" tabtitle="LogOut" (click)="this.logOut();"></ion-icon>
          </button>
        </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content class="home" padding>
  <ion-item>
      <ion-searchbar
      [showCancelButton]="true"
      (ionInput)="FilterUserDB($event)"
      (ionCancel)="searchUserDB($event)">
    </ion-searchbar>
  </ion-item>

  <ion-card *ngFor="let user of users | search: null:null:FirstNameSearch" cache-view="true">
    <ion-card-header (click)="openMenu(user)">
         <ion-icon name="contact" item-left></ion-icon> {{user.FirstName}} {{user.LastName}} - {{user.Email}}
    </ion-card-header>
   <ion-card-content color="danger" *ngIf="user.BookList.length > 0">
     Books Checkedout - {{user.BookList.length}}
     <ion-item *ngFor="let bk of user.BookList" text-wrap>
        <p color="info">{{bk.Description}}</p>
        <button default ion-button item-right color="primary" (click)="notify(user.Id,bk.Description, bk.RentedTransactions[0].TransactionId)">
          Notify ({{bk.RentedTransactions.length - 1}})</button>
          <span style="color: green; font-size: .8em">{{bk.Code}}</span>
     </ion-item>
    </ion-card-content>
  </ion-card>

</ion-content>
