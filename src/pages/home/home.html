<ion-header>
  <ion-navbar color="header">
    <ion-title style="align-content:center">Books</ion-title>
        <ion-buttons end>
          <button style="background-color: #0277bd">
            <ion-icon  style="color:white; font-size: 25px;" name="md-log-out" tabtitle="LogOut" (click)="this.logOut();"></ion-icon>
          </button>
        </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content class="home" padding >
    <span *ngIf="this.AvailableCount" style="color: green; font-size: .8em;align-content: right">
      Total Books:{{this.AvailableCount}}({{this.books.length}}); Rented Out:{{this.RentedOut}}</span>
    <ion-item>
      <ion-searchbar
        [showCancelButton]="true"
        (ionInput)="FilterBookDB($event)"
        (ionCancel)="searchBookDB($event)">
      </ion-searchbar>
    </ion-item>
    <ion-list>

      <ion-item-sliding *ngFor="let book of books | search : DescriptionSearch : null" >

        <ion-item text-wrap>
            <div (click)="bookInfo(book)" >
                <ion-thumbnail item-left>
                  <img src="{{book.PictureLink}}" />
              </ion-thumbnail>
              <h3>{{book.Description}}</h3>

              <p *ngIf="book.TotalCopies > 0" class="item-description" style="color:red">

                Available : {{book.TotalCopies - book.RentedCopies}}
                <span *ngIf="book.RentedCopies > 0">[Checked Out : {{book.RentedCopies}}]</span></p>
                <p *ngIf="book.TotalCopies == 1" style="color:green;">{{book.Code}} </p>
              </div>
          <ion-icon *ngIf="book.WishList != 'Y'" name="heart" (click)="AddToWishList(book,'Y','Added to Wish List!')" style="color:red" title="Add to Wish list"></ion-icon>
          <ion-icon *ngIf="book.WishList == 'Y'" name="heart-outline" (click)="AddToWishList(book,'N','Removed from your Wish List!')" title="Remove from Wish list"></ion-icon>
      </ion-item>
        <ion-item-options>
          <button ion-button color="danger" (click)="returnBook(book)" icon-start *ngIf="book.RentedCopies > 0 ">
              <ion-icon name="refresh"></ion-icon>
              Return ({{book.RentedCopies}})
          </button>
          <button ion-button color="primary" (click)="checkout(book)" icon-start *ngIf="(book.TotalCopies - book.RentedCopies) > 0">
              <ion-icon name="cart"></ion-icon>
            Check out ({{book.TotalCopies - book.RentedCopies}})
          </button>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>


</ion-content>



